<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>StudyBuddy - Encuentra tu compañero de estudio</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-light" style="scroll-behavior: smooth; padding-top: 80px; font-family: 'Segoe UI', sans-serif;">

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold text-primary fs-3" th:href="@{/}">
        <i class="fas fa-graduation-cap me-2"></i>StudyBuddy
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navMenu">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link fw-medium" th:href="@{/buscar}">Buscar</a></li>
          <li class="nav-item"><a class="nav-link fw-medium" th:href="@{/graficos}">Gráficos</a></li>
          <li class="nav-item"><a class="nav-link fw-medium" th:href="@{/perfil}">Perfil</a></li>
        </ul>

        <div class="d-flex align-items-center ms-3">
          <!-- Si hay usuario mostrado, mostrar nombre y logout -->
          <div th:if="${usuario != null and usuario.nombre != null and usuario.nombre != ''}" class="me-3">
            <small class="text-secondary fw-medium" th:text="${usuario.nombre}">Usuario</small>
          </div>

          <!-- Botones separados para login y registro -->
          <div th:if="${usuario == null}" class="d-flex gap-2">
            <a class="btn btn-outline-primary rounded-pill px-4" th:href="@{/login}">Iniciar Sesión</a>
            <a class="btn btn-primary rounded-pill px-4" th:href="@{/registrar}">Registrarse</a>
          </div>
          <a th:if="${usuario != null}" class="btn btn-outline-secondary rounded-pill ms-3" th:href="@{/logout}">Cerrar sesión</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero bg-primary bg-gradient py-5" id="hero">
    <div class="container py-5">
      <div class="row justify-content-center text-center text-white">
        <div class="col-lg-8">
          <h1 class="display-4 fw-bold mb-4">Encuentra tu compañero de estudio ideal</h1>
          <p class="lead mb-5 fs-5">Conecta con estudiantes compatibles, forma grupos efectivos y mejora tus notas.</p>
          <div class="mt-4">
            <!-- Si ya estás logeado, botón al dashboard -->
            <div th:if="${usuario != null and usuario.nombre != null and usuario.nombre != ''}">
              <a th:href="@{/dashboard}" class="btn btn-light btn-lg rounded-pill px-4 py-2 shadow-sm">
                <i class="fas fa-tachometer-alt me-2"></i>Ir al Dashboard
              </a>
            </div>
            
            <!-- Si no estás logeado, mostrar opciones claras -->
            <div th:if="${usuario == null}" class="d-flex flex-column flex-md-row gap-3 justify-content-center">
              <a th:href="@{/login}" class="btn btn-light btn-lg rounded-pill px-4 py-2 shadow-sm">
                <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesión
              </a>
              <a th:href="@{/registrar}" class="btn btn-outline-light btn-lg rounded-pill px-4 py-2">
                <i class="fas fa-user-plus me-2"></i>Registrarme
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Beneficios -->
  <section class="beneficios py-5" id="beneficios">
    <div class="container py-4">
      <div class="text-center mb-5">
        <h2 class="fw-bold mb-3">Beneficios de usar StudyBuddy</h2>
        <p class="text-muted lead">Descubre cómo podemos ayudarte a mejorar tu experiencia de estudio</p>
      </div>
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card h-100 shadow-sm border-0 rounded-4">
            <div class="card-body text-center p-4">
              <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 70px; height: 70px;">
                <i class="fas fa-users fa-2x text-primary"></i>
              </div>
              <h5 class="card-title fw-bold">Encuentra Compañeros</h5>
              <p class="card-text text-muted">Conecta con estudiantes que cursan las mismas materias y tienen horarios compatibles.</p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card h-100 shadow-sm border-0 rounded-4">
            <div class="card-body text-center p-4">
              <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 70px; height: 70px;">
                <i class="fas fa-chart-line fa-2x text-primary"></i>
              </div>
              <h5 class="card-title fw-bold">Mejora tus Notas</h5>
              <p class="card-text text-muted">Estudiar en grupo te ayuda a comprender mejor los temas y mantenerte al día.</p>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card h-100 shadow-sm border-0 rounded-4">
            <div class="card-body text-center p-4">
              <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 70px; height: 70px;">
                <i class="fas fa-fire fa-2x text-primary"></i>
              </div>
              <h5 class="card-title fw-bold">Mantente Motivado</h5>
              <p class="card-text text-muted">La constancia es más fácil cuando estudias con otros que comparten tus metas.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cómo Funciona -->
  <section class="pasos py-5 bg-light" id="funciona">
    <div class="container py-4">
      <div class="text-center mb-5">
        <h2 class="fw-bold mb-3">¿Cómo Funciona?</h2>
        <p class="text-muted lead">Solo sigue estos sencillos pasos para empezar</p>
      </div>
      <div class="row g-4">
        <div class="col-md-3 text-center">
          <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="fas fa-user-edit fa-2x text-primary"></i>
          </div>
          <h5 class="fw-bold">1. Crea tu perfil</h5>
          <p class="text-muted">Registra tus materias, horarios y preferencias de estudio.</p>
        </div>

        <div class="col-md-3 text-center">
          <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="fas fa-search fa-2x text-primary"></i>
          </div>
          <h5 class="fw-bold">2. Encuentra grupos</h5>
          <p class="text-muted">El sistema te sugiere grupos compatibles automáticamente.</p>
        </div>

        <div class="col-md-3 text-center">
          <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="fas fa-calendar-alt fa-2x text-primary"></i>
          </div>
          <h5 class="fw-bold">3. Programa sesiones</h5>
          <p class="text-muted">Organiza encuentros virtuales o presenciales con tu grupo.</p>
        </div>

        <div class="col-md-3 text-center">
          <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
            <i class="fas fa-comments fa-2x text-primary"></i>
          </div>
          <h5 class="fw-bold">4. Chatea y comparte</h5>
          <p class="text-muted">Intercambia recursos y mantente en contacto con tu equipo.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonios -->
  <section class="testimonios py-5" id="testimonios">
    <div class="container py-4">
      <div class="text-center mb-5">
        <h2 class="fw-bold mb-3">Lo que dicen nuestros usuarios</h2>
        <p class="text-muted lead">Descubre las experiencias de estudiantes como tú</p>
      </div>

      <div id="carouselTestimonios" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="d-flex flex-column align-items-center text-center px-5">
              <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Estudiante 1" class="mb-4 shadow">
              <p class="mb-3 fs-5 fst-italic">"Gracias a StudyBuddy encontré un grupo increíble para estudiar cálculo. ¡Mis notas subieron muchísimo!"</p>
              <strong>- Mariana, Ingeniería</strong>
            </div>
          </div>

          <div class="carousel-item">
            <div class="d-flex flex-column align-items-center text-center px-5">
              <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Estudiante 2" class="mb-4 shadow">
              <p class="mb-3 fs-5 fst-italic">"Estudiar solo era difícil. Ahora tengo compañeros que me motivan y me ayudan a entender mejor."</p>
              <strong>- Luis, Medicina</strong>
            </div>
          </div>

          <div class="carousel-item">
            <div class="d-flex flex-column align-items-center text-center px-5">
              <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Estudiante 3" class="mb-4 shadow">
              <p class="mb-3 fs-5 fst-italic">"La plataforma es súper fácil de usar. Me encanta poder organizar sesiones desde el celular."</p>
              <strong>- Camila, Derecho</strong>
            </div>
          </div>
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#carouselTestimonios" data-bs-slide="prev">
          <span class="carousel-control-prev-icon bg-primary rounded-circle p-3" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselTestimonios" data-bs-slide="next">
          <span class="carousel-control-next-icon bg-primary rounded-circle p-3" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
    </div>
  </section>

  <!-- CTA Final -->
  <section class="py-5 text-center bg-primary bg-gradient text-white">
    <div class="container py-4">
      <h2 class="fw-bold mb-4">¿Listo para mejorar tu forma de estudiar?</h2>
      <p class="lead mb-4">Únete a miles de estudiantes que ya están mejorando su rendimiento académico</p>

      <!-- Si hay usuario ir al dashboard -->
      <div th:if="${usuario != null and usuario.nombre != null and usuario.nombre != ''}">
        <a th:href="@{/dashboard}" class="btn btn-light btn-lg rounded-pill px-4 py-2 shadow-sm">
          <i class="fas fa-tachometer-alt me-2"></i>Ir al Dashboard
        </a>
      </div>
      
      <!-- Si no hay usuario, mostrar opciones -->
      <div th:if="${usuario == null}" class="d-flex flex-column flex-md-row gap-3 justify-content-center">
        <a th:href="@{/login}" class="btn btn-light btn-lg rounded-pill px-4 py-2 shadow-sm">
          <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesión
        </a>
        <a th:href="@{/registrar}" class="btn btn-outline-light btn-lg rounded-pill px-4 py-2">
          <i class="fas fa-user-plus me-2"></i>Únete a StudyBuddy
        </a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-dark text-white py-5">
    <div class="container text-center">
      <div class="mb-4">
        <i class="fas fa-graduation-cap fa-2x text-primary mb-3"></i>
        <h5 class="fw-bold">StudyBuddy</h5>
        <p class="text-light">Conectando estudiantes para un mejor aprendizaje</p>
      </div>
      <div class="mb-4">
        <a href="https://instagram.com" class="text-white me-3 fs-5" target="_blank">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="https://facebook.com" class="text-white me-3 fs-5" target="_blank">
          <i class="fab fa-facebook"></i>
        </a>
        <a href="https://linkedin.com" class="text-white fs-5" target="_blank">
          <i class="fab fa-linkedin"></i>
        </a>
      </div>
      <p class="mb-0 text-light">© 2025 StudyBuddy. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Smooth scrolling para anclas
    document.addEventListener("DOMContentLoaded", () => {
      const links = document.querySelectorAll("a[href^='#']");
      links.forEach(link => {
        link.addEventListener("click", e => {
          e.preventDefault();
          const target = document.querySelector(link.getAttribute("href"));
          if (target) target.scrollIntoView({ behavior: "smooth" });
        });
      });
    });
  </script>
</body>
</html>